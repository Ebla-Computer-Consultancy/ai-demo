import{$ as lt,$a as Ie,A as j,Aa as vt,B as rt,Ba as _e,C as st,Ca as ve,D as ae,E as ee,F as ge,G as s,Ga as bt,H as y,Ha as Ct,I as at,Ia as be,J as je,Ja as Ce,K as b,L as ct,La as ye,M as d,Ma as R,N as z,Na as xe,O as te,Oa as yt,P as k,Pa as ze,Q as S,Qa as Se,R as $e,Ra as Te,S as L,Sa as we,T as V,Ta as Ee,U as c,Ua as xt,V as a,Va as Ae,W as v,Wa as St,X as ce,Xa as ke,Y as T,Ya as Pe,Z as u,Za as Tt,_ as p,_a as Me,a as Ze,aa as dt,ab as wt,b as Je,ba as ht,bb as C,c as le,ca as G,cb as Et,d as pe,da as U,db as At,e as oe,ea as Y,eb as kt,f as re,fa as I,fb as Oe,g as me,ga as h,gb as Re,h as et,ha as P,i as se,ia as w,j as K,ja as pt,k as tt,ka as mt,l as ue,la as ut,m as He,ma as ie,n as M,na as $,o as Z,oa as Q,p as it,pa as O,q as H,qa as fe,r as E,ra as q,s as x,t as J,ta as We,u as de,ua as Ke,v as nt,va as N,w as f,wa as gt,x as _,xa as ft,y as A,ya as _t,z as ot,za as B}from"./chunk-HMUV6AJI.js";var Qt=(i,n)=>n.route,qt=i=>({"d-block":i}),Xt=i=>({"text-primary fw-bold":i});function Zt(i,n){if(i&1&&(c(0,"li",11)(1,"a",13),h(2),a()()),i&2){let o=n.$implicit,e=p();s(),d("routerLink",o.route)("ngClass",Q(3,Xt,e.activatedRoute==o.route)),s(),P(o.title)}}var Pt=(()=>{class i{router=E(be);logo=R.logo;collapsed=!0;activatedRoute;navLinks=[{route:"/",title:"Home"},{route:"/ai-service/ai-search",title:"AI Search"},{route:"/ai-service/ai-chat-bot",title:"Chat Bot"}];constructor(){}ngOnInit(){this.router.events.pipe(re(o=>o instanceof bt)).subscribe(o=>{this.activatedRoute=o.url})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-ai-services"]],decls:15,vars:5,consts:[[1,"min-vh-100"],["width","100%","height","100%","autoplay","","loop","",1,"phcc-video","sf.mp4","position-fixed",3,"muted"],["src","https://www.phcc.gov.qa/videos/default-source/home-video-library/16-x-9---30-seconds---with-music---english.mp4","type","video/mp4"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light",2,"box-shadow","0px 2px 10px #000"],[1,"container"],["href","#",1,"navbar-brand","d-flex","align-items-center"],["alt","Ebla corp","height","34",1,"d-inline-block","align-text-top",3,"src"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-collapse","collapse",3,"ngClass"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],[1,"container","py-5"],[1,"nav-link",3,"routerLink","ngClass"]],template:function(e,t){e&1&&(c(0,"main",0)(1,"video",1),v(2,"source",2),a(),c(3,"nav",3)(4,"div",4)(5,"a",5),v(6,"img",6),a(),c(7,"button",7),u("click",function(){return t.collapsed=!t.collapsed}),v(8,"span",8),a(),c(9,"div",9)(10,"ul",10),L(11,Zt,3,5,"li",11,Qt),a()()()(),c(13,"div",12),v(14,"router-outlet"),a()()),e&2&&(s(),d("muted","muted"),s(5),d("src",t.logo,ae),s(3),d("ngClass",Q(3,qt,!t.collapsed)),s(2),V(t.navLinks))},dependencies:[N,Ct,Ce],styles:[".phcc-video[_ngcontent-%COMP%]{background:#fff;width:100%;object-fit:cover}"]})}return i})();var Be=class{clone(n){return Object.assign(this,n)}};var X=class extends Be{content;role;context;end_turn;function_call;tool_calls;constructor(n="",o="user"){super(),this.content=n,this.role=o}};var Mt=(()=>{class i extends xe{tag="website/";http=E(ve);messageHistory=[];constructor(){super("chat")}appendMessage(o){this.messageHistory.push(o)}_drawBack(){this.messageHistory.pop()}askQuestion(o,e){return this.appendMessage(new X(o)),this.startLoading(),this.http.post(this.baseUrl,{messages:this.messageHistory,stream_id:e},{headers:new _e({})}).pipe(se(()=>{this.stopLoading()}),me(t=>{throw this._drawBack(),this.appendMessage(new X().clone({content:t.message,role:"error"})),new Error(t)})).pipe(oe(t=>(typeof t=="string"&&(t=JSON.parse(t),t.error&&(t.message=new X(t.message,"error"))),t)))}resetMessageHistory(){this.messageHistory=[]}static \u0275fac=function(e){return new(e||i)};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Jt=(()=>{let n=class n{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let t=this._focusTrapStack;t.length&&t[t.length-1]._disable(),t.push(e),e._enable()}deregister(e){e._disable();let t=this._focusTrapStack,r=t.indexOf(e);r!==-1&&(t.splice(r,1),t.length&&t[t.length-1]._enable())}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ge;try{Ge=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Ge=!1}var Rt=(()=>{let n=class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?vt(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Ge)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};n.\u0275fac=function(t){return new(t||n)(H(rt))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Dt=(()=>{let n=class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return ti(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let t=ei(li(e));if(t&&(It(t)===-1||!this.isVisible(t)))return!1;let r=e.nodeName.toLowerCase(),l=It(e);return e.hasAttribute("contenteditable")?l!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!ai(e)?!1:r==="audio"?e.hasAttribute("controls")?l!==-1:!1:r==="video"?l===-1?!1:l!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,t){return ci(e)&&!this.isDisabled(e)&&(t?.ignoreVisibility||this.isVisible(e))}};n.\u0275fac=function(t){return new(t||n)(H(Rt))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();function ei(i){try{return i.frameElement}catch{return null}}function ti(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function ii(i){let n=i.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function ni(i){return ri(i)&&i.type=="hidden"}function oi(i){return si(i)&&i.hasAttribute("href")}function ri(i){return i.nodeName.toLowerCase()=="input"}function si(i){return i.nodeName.toLowerCase()=="a"}function Bt(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let n=i.getAttribute("tabindex");return n=="-32768"?!1:!!(n&&!isNaN(parseInt(n,10)))}function It(i){if(!Bt(i))return null;let n=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function ai(i){let n=i.nodeName.toLowerCase(),o=n==="input"&&i.type;return o==="text"||o==="password"||n==="select"||n==="textarea"}function ci(i){return ni(i)?!1:ii(i)||oi(i)||i.hasAttribute("contenteditable")||Bt(i)}function li(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}function Ot(i){return i!=null&&`${i}`!="false"}var Ue=class{get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}constructor(n,o,e,t,r=!1){this._element=n,this._checker=o,this._ngZone=e,this._document=t,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}destroy(){let n=this._startAnchor,o=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),o&&(o.removeEventListener("focus",this.endAnchorListener),o.parentNode&&o.parentNode.removeChild(o)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement()))})}_getRegionBoundary(n){let o=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);for(let e=0;e<o.length;e++)o[e].hasAttribute(`cdk-focus-${n}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,o[e]):o[e].hasAttribute(`cdk-focus-region-${n}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${n}', use 'cdkFocusRegion${n}' instead. The deprecated attribute will be removed in 8.0.0.`,o[e]);return n=="start"?o.length?o[0]:this._getFirstTabbableElement(this._element):o.length?o[o.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){let o=this._getFirstTabbableElement(n);return o?.focus(),!!o}return n.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){let n=this._getRegionBoundary("start");return n&&n.focus(),!!n}focusLastTabbableElement(){let n=this._getRegionBoundary("end");return n&&n.focus(),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let o=n.children||n.childNodes;for(let e=0;e<o.length;e++){let t=o[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(o[e]):null;if(t)return t}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let o=n.children||n.childNodes;for(let e=o.length-1;e>=0;e--){let t=o[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(o[e]):null;if(t)return t}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,o){n?o.setAttribute("tabindex","0"):o.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(et(1)).subscribe(n)}},di=(()=>{let n=class n{constructor(e,t,r){this._checker=e,this._ngZone=t,this._document=r}create(e,t=!1){return new Ue(e,this._checker,this._ngZone,this._document,t)}};n.\u0275fac=function(t){return new(t||n)(H(Dt),H(ot),H(Ke))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),Ft=(()=>{let n=class n{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Ot(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Ot(e)}constructor(e,t,r){this._elementRef=e,this._focusTrapFactory=t,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){let t=e.autoCapture;t&&!t.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}};n.\u0275fac=function(t){return new(t||n)(y(j),y(di),y(Ke))},n.\u0275dir=de({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:[0,"cdkTrapFocus","enabled"],autoCapture:[0,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[nt]});let i=n;return i})(),Lt=(()=>{let n=class n{static forRoot(){return{ngModule:n,providers:[Jt,Rt,Dt]}}};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=J({type:n}),n.\u0275inj=Z({imports:[B]});let i=n;return i})();var pi=["*"],Vt=(()=>{let n=class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"});let i=n;return i})();var Nt=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"});let i=n;return i})(),Fe={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},mi=new it("override-default-config"),W={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",IN:"in",SHOW:"show"};var Le={MODAL:300,BACKDROP:150},Ye={BACKRDOP:"backdrop-click",ESC:"esc",BACK:"browser-back-navigation-clicked"},ui=(()=>{let n=class n{constructor(e,t,r){this._element=t,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this._focusEl=C.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,W.FADE),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,W.SHOW)},this.isAnimated?Le.BACKDROP:0),C&&C.body&&(this.bsModalService&&this.bsModalService.getModalsCount()===1&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(C.body,W.OPEN),this._renderer.setStyle(C.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){let t=e.target===this._element.nativeElement&&!this.clickStartedInContent;if(this.config.ignoreBackdropClick||this.config.backdrop==="static"||!t){this.clickStartedInContent=!1;return}this.bsModalService?.setDismissReason(Ye.BACKRDOP),this.hide()}onPopState(){this.bsModalService?.setDismissReason(Ye.BACK),this.hide()}onEsc(e){this.isShown&&((e.keyCode===27||e.key==="Escape")&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason(Ye.ESC),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor){this.config.closeInterceptor().then(()=>this._hide(),()=>{});return}this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,W.SHOW),setTimeout(()=>{this.isShown=!1,C&&C.body&&this.bsModalService?.getModalsCount()===1&&(this._renderer.removeClass(C.body,W.OPEN),this._renderer.setStyle(C.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?Le.MODAL:0)}};n.\u0275fac=function(t){return new(t||n)(y(Nt),y(j),y(je))},n.\u0275cmp=x({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){t&1&&u("mousedown",function(m){return r.onClickStarted(m)})("click",function(m){return r.onClickStop(m)})("popstate",function(){return r.onPopState()},!1,ee)("keydown.esc",function(m){return r.onEsc(m)},!1,ee),t&2&&ct("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:pi,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){t&1&&(lt(),c(0,"div",0)(1,"div",1),dt(2),a()()),t&2&&k("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[Ft],encapsulation:2});let i=n;return i})(),gi=(()=>{let n=class n{get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,`${W.SHOW}`):this.renderer.removeClass(this.element.nativeElement,`${W.SHOW}`)}constructor(e,t){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=t}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,`${W.FADE}`),Et.reflow(this.element.nativeElement)),this.isShown=!0}};n.\u0275fac=function(t){return new(t||n)(y(j),y(je))},n.\u0275cmp=x({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2});let i=n;return i})();var fi=1,Qe=(()=>{let n=class n{constructor(e,t,r){this.clf=t,this.modalDefaultOption=r,this.onShow=new A,this.onShown=new A,this.onHide=new A,this.onHidden=new A,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},Fe,r):Fe}show(e,t){this._focusEl=C.activeElement,this.modalsCount++,this._createLoaders();let r=t?.id||fi++;return this.config=this.modalDefaultOption?Object.assign({},Fe,this.modalDefaultOption,t):Object.assign({},Fe,t),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(this.modalsCount===1||e==null)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&e!=null?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?Le.BACKDROP:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){let e=this.config.backdrop===!0||this.config.backdrop==="static",t=!this.backdropRef||!this.backdropRef.instance.isShown;this.modalsCount===1&&(this.removeBackdrop(),e&&t&&(this._backdropLoader.attach(gi).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){if(!this.backdropRef)return;this.backdropRef.instance.isShown=!1;let e=this.config.animated?Le.BACKDROP:0;setTimeout(()=>this.removeBackdrop(),e)}_showModal(e){let t=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(let m of this.config.providers)t.provide(m);let r=new Vt,l=t.provide({provide:Nt,useValue:this.config}).provide({provide:Vt,useValue:r}).attach(ui).to("body");return r.hide=()=>this.hide(r.id),r.setClass=m=>{l.instance&&(l.instance.config.class=m)},r.onHidden=new A,r.onHide=new A,this.copyEvent(t.onBeforeHide,r.onHide),this.copyEvent(t.onHidden,r.onHidden),l.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),l.instance&&(l.instance.level=this.getModalsCount(),r.content=t.getInnerComponent(),r.id=l.instance.config?.id),r}_hideModal(e){if(e!=null){let t=this.loaders.findIndex(l=>l.instance?.config.id===e),r=this.loaders[t];r&&r.hide(e)}else this.loaders.forEach(t=>{t.instance&&t.hide(t.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(C.body,W.OPEN),this._renderer.setStyle(C.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=C.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){C&&(this.originalBodyPadding=parseInt(window.getComputedStyle(C.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(C.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){C.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){let e=this._renderer.createElement("div");this._renderer.addClass(e,W.SCROLLBAR_MEASURER),this._renderer.appendChild(C.body,e);let t=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(C.body,e),t}_createLoaders(){let e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(e!=null){let t=this.loaders.findIndex(r=>r.instance?.config.id===e);t>=0&&(this.loaders.splice(t,1),this.loaders.forEach((r,l)=>{r.instance&&(r.instance.level=l+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,t){e.subscribe(r=>{t.emit(this.lastDismissReason||r)})}};n.\u0275fac=function(t){return new(t||n)(H(at),H(At),H(mi,8))},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"platform"});let i=n;return i})(),co=Lt.forRoot();var Ve=(()=>{class i{color="primary";constructor(){}ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-loading"]],inputs:{color:"color"},standalone:!0,features:[$],decls:7,vars:12,consts:[[1,"sk-wave"]],template:function(e,t){e&1&&(c(0,"div")(1,"div",0),v(2,"div")(3,"div")(4,"div")(5,"div")(6,"div"),a()()),e&2&&(k("d-flex align-items-center justify-content-center text-"+t.color),s(2),k("sk-wave-rect bg-"+t.color),s(),k("sk-wave-rect bg-"+t.color),s(),k("sk-wave-rect bg-"+t.color),s(),k("sk-wave-rect bg-"+t.color),s(),k("sk-wave-rect bg-"+t.color))},styles:[".sk-wave[_ngcontent-%COMP%]{width:40px;height:40px;display:inline-flex;justify-content:space-between}.sk-wave-rect[_ngcontent-%COMP%]{background-color:#fff;height:100%;width:15%;animation:_ngcontent-%COMP%_sk-wave 1.2s infinite ease-in-out}.sk-wave-rect[_ngcontent-%COMP%]:nth-child(1){animation-delay:-1.2s}.sk-wave-rect[_ngcontent-%COMP%]:nth-child(2){animation-delay:-1.1s}.sk-wave-rect[_ngcontent-%COMP%]:nth-child(3){animation-delay:-1s}.sk-wave-rect[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.9s}.sk-wave-rect[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.8s}@keyframes _ngcontent-%COMP%_sk-wave{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}"]})}return i})();var Ht=(()=>{class i{elementRef;text="";speed=20;animating=new A;constructor(o){this.elementRef=o}ngOnInit(){this.animateText()}animateText(){this.animating.emit(!0);let o=0,e="",t=()=>{e+=this.text.charAt(o),this.elementRef.nativeElement.innerHTML=e,o++,o<this.text.length?setTimeout(t,this.speed*Math.random()):this.animating.emit(!1)};t()}static \u0275fac=function(e){return new(e||i)(y(j))};static \u0275dir=de({type:i,selectors:[["","TextWriterAnimator",""]],inputs:{text:"text",speed:"speed"},outputs:{animating:"animating"},standalone:!0})}return i})();function he(i){return/[\u0600-\u06FF]+/.test(i)}var jt=i=>(i.split(" ").map(n=>(he(n)?"\u202A":"\u202C")+n).join(" "),i);var _i=["video_ref"],vi=i=>({processing:i}),bi=i=>({disabled:i});function Ci(i,n){i&1&&v(0,"i",11)}var $t=(()=>{class i{AiAvatarButtonComponent=i;video_ref;onToggle=new A;type="inner";service=E(yt);route=E(be);static toggled=!1;isProcessing=!1;STREAM_ID_STORAGE_KEY=R.STREAM_ID_STORAGE_KEY;OUTER_AVATAR_IS_ACTIVE_KEY=R.OUTER_AVATAR_IS_ACTIVE_KEY;get isActiveOuterScreen(){return JSON.parse(localStorage.getItem(this.OUTER_AVATAR_IS_ACTIVE_KEY)||"false")}ngOnInit(){localStorage.getItem(this.STREAM_ID_STORAGE_KEY)&&this.closeStream()}ngAfterViewInit(){}closeStream(){let o=localStorage.getItem(this.STREAM_ID_STORAGE_KEY);o&&(localStorage.removeItem(this.STREAM_ID_STORAGE_KEY),this.service.closeStream(o).pipe(me(e=>{throw localStorage.setItem(this.STREAM_ID_STORAGE_KEY,o),e})).subscribe()),this.video_ref&&(this.video_ref.nativeElement.srcObject=null)}toggleVideo(){this.type=="outer"?(this.onToggle.emit(),window.open(window.location.origin+R.base+"/ai-avatar","myWindow","fullscreen=1")):(i.toggled=!i.toggled,this.onToggle.emit(i.toggled),localStorage.getItem(this.STREAM_ID_STORAGE_KEY)?this.closeStream():(this.isProcessing=!0,this.service.startStream().pipe(K(e=>{let{webrtcData:t}=e.data,{offer:r,iceServers:l}=t,{id:m}=e.data;localStorage.setItem(this.STREAM_ID_STORAGE_KEY,m);let D=new RTCPeerConnection({iceTransportPolicy:"relay",iceServers:l});return D.onicecandidate=g=>{console.log("onicecandidate",g),g.candidate&&this.service.sendCandidate(m,g.candidate).subscribe()},D.onicegatheringstatechange=g=>{g.target.iceGatheringState==="complete"&&this.video_ref.nativeElement.paused&&this.video_ref.nativeElement.srcObject&&this.video_ref.nativeElement.play()},D.ontrack=g=>{console.log("ontrack",g);let[ne]=g.streams;this.video_ref.nativeElement.srcObject=ne},pe(D.setRemoteDescription(new RTCSessionDescription(r))).pipe(K(()=>pe(D.createAnswer()))).pipe(K(g=>pe(D.setLocalDescription(g)).pipe(oe(()=>({id:m,answer_:g})))))})).pipe(se(()=>{this.isProcessing=!1}),K(({id:e,answer_:t})=>this.service.sendAnswer(e,t))).subscribe()))}beforeUnloadHandler(){this.closeStream()}ngOnDestroy(){this.closeStream()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["ai-avatar-button"]],viewQuery:function(e,t){if(e&1&&G(_i,5),e&2){let r;U(r=Y())&&(t.video_ref=r.first)}},hostBindings:function(e,t){e&1&&u("beforeunload",function(l){return t.beforeUnloadHandler(l)},!1,ee)},inputs:{type:"type"},outputs:{onToggle:"onToggle"},standalone:!0,features:[ie([]),$],decls:13,vars:12,consts:[["video_ref",""],[1,"avatar-container","rounded-circle","position-relative",2,"box-shadow","0px 1px 13px #00000080"],[1,"avatar-popup-container",3,"hidden"],[1,"card","h-100"],[1,"card-header","d-flex","align-items-center","justify-lg-content-between"],[1,"m-0"],[1,"card-body","p-0"],["id","video","autoplay","","controls",""],[1,"spinner",3,"ngClass"],["type","button",1,"btn","circle","border-0",3,"click","tooltip","disabled","ngClass"],[1,"mdi","mdi-face-agent"],[1,"mdi","mdi-timeline-outline","new-tap-icon"]],template:function(e,t){if(e&1){let r=T();c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h6",5),h(5,"Reactive Avatar"),a()(),c(6,"div",6),v(7,"video",7,0),a()()(),v(9,"div",8),c(10,"button",9),u("click",function(){return f(r),_(t.toggleVideo())}),v(11,"i",10),b(12,Ci,1,0,"i",11),a()()}e&2&&(s(),d("hidden",t.type=="outer"||!t.AiAvatarButtonComponent.toggled),s(8),d("ngClass",Q(8,vi,t.isProcessing)),s(),d("tooltip",t.AiAvatarButtonComponent.toggled?"Close Avatar":t.type=="outer"?"Open new screen Avatar":"Open Avatar")("disabled",t.isProcessing||t.type=="inner"&&t.isActiveOuterScreen||t.type=="outer"&&t.AiAvatarButtonComponent.toggled)("ngClass",Q(10,bi,t.isProcessing||t.type=="inner"&&t.isActiveOuterScreen||t.type=="outer"&&t.AiAvatarButtonComponent.toggled)),s(),te(t.type=="outer"?"font-size: 14px; position: relative; left: 4px; top: 0px;":""),s(),S(t.type=="outer"?12:-1))},dependencies:[Oe,kt,B,N],styles:['.avatar-container[_ngcontent-%COMP%]{height:34px;width:34px;margin-top:2px;display:flex;align-items:center;justify-content:center}.avatar-container[_ngcontent-%COMP%]   .avatar-popup-container[_ngcontent-%COMP%]{z-index:1;position:absolute;bottom:0;right:68px}.avatar-container[_ngcontent-%COMP%]   .avatar-popup-container[_ngcontent-%COMP%]:after{content:"";display:block;width:18px;height:18px;background:#fff;border-width:var(--bs-border-width);border-color:var(--bs-border-color);border-style:var(--bs-border-style);border-top:none;border-left:none;transform:rotate(45deg);position:absolute;bottom:12px;right:-9px;clip-path:polygon(0 0,100% 0,100% 0,100% 100%)}.avatar-container[_ngcontent-%COMP%]   .avatar-popup-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background:#c1c1c1!important}.avatar-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:380px;height:300px}.avatar-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:50%;background:#fff;display:flex;justify-content:center;align-items:center;z-index:1;opacity:1;transition:.5s;box-shadow:0 0 2px #00000024,0 1px 18px #0000001f,0 3px 5px -1px #0002}.avatar-container[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#b2b1b1;font-size:23px;transition:.9s}.avatar-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:41px;height:41px;border-radius:50%;position:absolute;transform:rotate(0);background:linear-gradient(to left,#dede4e,transparent,transparent,#70f570,#8c8cff,transparent,transparent,#dede4e);animation:_ngcontent-%COMP%_spin 2s linear infinite .5s;opacity:0}.avatar-container[_ngcontent-%COMP%]   .spinner.processing[_ngcontent-%COMP%]{opacity:1}.avatar-container[_ngcontent-%COMP%]   .new-tap-icon[_ngcontent-%COMP%]{position:absolute;font-size:26px!important;top:-2px}.disabled[_ngcontent-%COMP%]{background:#dfd9d9!important}@media screen and (max-width: 900px){.avatar-container[_ngcontent-%COMP%]   .avatar-popup-container[_ngcontent-%COMP%]{right:auto;left:0;bottom:50px}.avatar-container[_ngcontent-%COMP%]   .avatar-popup-container[_ngcontent-%COMP%]:after{right:auto;left:12px;transform:rotate(135deg);bottom:-9px}.avatar-container[_ngcontent-%COMP%]   .avatar-popup-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{white-space:nowrap}.avatar-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:260px;height:260px}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return i})();var xi=["chat_container"],Si=["chat_body"],Ti=["recorder"],wi=(i,n)=>n.content,Ei=(i,n)=>n.filepath,Ai=(i,n,o)=>({"align-items-end":i,"align-items-center":n,toggled:o}),ki=i=>({fullscreen:i}),Pi=(i,n)=>({"mdi-arrow-expand-all":i,"mdi-arrow-collapse-all":n}),Mi=(i,n)=>({rtl:i,ltr:n}),Ii=(i,n)=>({"mdi-chevron-down":i,"mdi-chevron-up":n});function Oi(i,n){i&1&&(c(0,"small",15),h(1," Let's chat with me to help you. "),a())}function Ri(i,n){if(i&1){let o=T();c(0,"span",36),u("animating",function(t){f(o);let r=p(2);return _(r.animating=t)}),a()}if(i&2){let o=p().$implicit;d("text",o.content)}}function Di(i,n){if(i&1&&v(0,"span",35),i&2){let o=p().$implicit;d("innerHtml",o.content,st)}}function Bi(i,n){if(i&1){let o=T();c(0,"div",41)(1,"div",42)(2,"small",43),h(3),v(4,"i",44),a()(),c(5,"a",45),u("click",function(){let t=f(o).$implicit,r=p(3),l=I(38);return _(r.openDocModal(l,t))}),h(6),a()()}if(i&2){let o=n.$implicit,e=n.$index;s(3),w(" doc ",e+1," "),s(3),P(o.filepath)}}function Fi(i,n){if(i&1){let o=T();c(0,"div")(1,"div",37),u("click",function(){f(o);let t=I(6);return _(t.hidden=!t.hidden)}),v(2,"i",38),c(3,"span",39),h(4,"References"),a()(),c(5,"div",40,4),L(7,Bi,7,2,"div",41,Ei),a()()}if(i&2){let o=I(6),e=p().$implicit;s(2),d("ngClass",O(1,Ii,o.hidden,!o.hidden)),s(5),V(e.context.citations)}}function Li(i,n){if(i&1&&(c(0,"div")(1,"div",33),b(2,Ri,1,1,"span",34)(3,Di,1,1,"span",35)(4,Fi,9,4,"div"),a()()),i&2){let o=n.$implicit,e=p();k("message "+o.role+"-message"),s(),d("ngClass",O(5,Mi,e.isRTL(o.content),!e.isRTL(o.content))),s(),S(o.role==="assistant"?2:3),s(2),S(o.context&&o.context.citations.length?4:-1)}}function Vi(i,n){i&1&&(c(0,"div",18),v(1,"app-loading"),a())}function Ni(i,n){if(i&1){let o=T();c(0,"div",46)(1,"h4",47),h(2,"Citation Details"),a(),c(3,"button",48),u("click",function(){f(o);let t=p();return _(t.modalRef==null?null:t.modalRef.hide())}),c(4,"span",49),h(5,"\xD7"),a()()(),c(6,"div",50)(7,"p",51),h(8),a(),c(9,"strong"),h(10,"Link to document: "),a(),c(11,"a",52),h(12),a()(),c(13,"div",53)(14,"button",54),u("click",function(){f(o);let t=p();return _(t.modalRef==null?null:t.modalRef.hide())}),h(15," Close "),a()()}if(i&2){let o=p();s(8),P(o.selectedDoc.content),s(3),d("href",o.selectedDoc.url,ae),s(),w(" ",o.selectedDoc.filepath," ")}}var Wt=(()=>{class i{chat_container;chat_body;recorder;toggled=!1;service=E(Mt);aiSpeechToTextService=E(Ie);modalService=E(Qe);stopProcessing$=new le;modalRef;control=new Ae("",Te.required);ask$=new le;selectedDoc;fullScreen=!1;animating=!1;activeAvatar=!1;interval;isRTL=he;OUTER_AVATAR_IS_ACTIVE_KEY=R.OUTER_AVATAR_IS_ACTIVE_KEY;MESSAGE_TEXT_KEY=R.MESSAGE_TEXT_KEY;AVATAR_IS_RECORDING_KEY=R.AVATAR_IS_RECORDING_KEY;STREAM_ID_STORAGE_KEY=R.STREAM_ID_STORAGE_KEY;handleKeyboardEvent(o){o.key==="Enter"&&(o.preventDefault(),this.ask$.next())}constructor(){}ngOnInit(){this.listenToAskQuestion(),this.handleOuterAvatar()}ngAfterViewInit(){this.scrollToMessage()}handleOuterAvatar(){this.interval=setInterval(()=>{localStorage.getItem(this.MESSAGE_TEXT_KEY)&&!JSON.parse(localStorage.getItem(this.AVATAR_IS_RECORDING_KEY)||"false")&&(this.control.setValue(localStorage.getItem(this.MESSAGE_TEXT_KEY)),this.ask$.next())},200)}scrollToMessage(){this.chat_body&&this.chat_container&&this.chat_container.nativeElement.lastElementChild&&(this.chat_body.nativeElement.scrollTop=this.chat_body?.nativeElement.scrollHeight-this.chat_container.nativeElement.lastElementChild.scrollHeight-20)}listenToAskQuestion(){this.ask$.pipe(re(()=>!this.service.loading&&this.control.valid&&!!this.control.value.trim())).pipe(ue(()=>{(this.recorder.isProcessing||this.recorder.isRecording)&&this.recorder.canceledRecording()})).pipe(K(()=>{setTimeout(()=>{this.scrollToMessage()},200);let o=localStorage.getItem(this.STREAM_ID_STORAGE_KEY)||void 0;return this.service.askQuestion(this.control.value,o).pipe(tt(this.stopProcessing$))})).subscribe(o=>{jt(this.formatText(o.message.content)),this.reset(),this.service.appendMessage(new X().clone(Je(Ze({},o.message),{content:this.formatText(o.message.content)}))),setTimeout(()=>{this.scrollToMessage()},200)})}openDocModal(o,e){this.selectedDoc=e,this.modalRef=this.modalService.show(o,{class:"modal-lg"})}formatText(o){let e=o.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>");return e=e.replace(/\[(.*?)\]/g,'<pre class="d-inline"><small class="px-1 text-primary">$1<i class="mdi mdi-link-variant"></i></small></pre>'),e.trim()}stopAnimation(){this.stopProcessing$.next(),this.service.messageHistory[this.service.messageHistory.length-1].role=="assistant"&&(this.service.messageHistory[this.service.messageHistory.length-1].content=this.chat_container.nativeElement.lastElementChild.children[0].children[0].innerHTML),this.reset()}handleSpeechToText(o){this.control.setValue(o)}stopRecording(){this.ask$.next()}reset(){this.control.reset(),localStorage.setItem(this.MESSAGE_TEXT_KEY,""),this.control.updateValueAndValidity()}clear(){this.reset(),this.service.resetMessageHistory(),clearInterval(this.interval)}beforeUnloadHandler(){this.clear()}ngOnDestroy(){this.clear()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-ai-chat-bot"]],viewQuery:function(e,t){if(e&1&&(G(xi,5),G(Si,5),G(Ti,5)),e&2){let r;U(r=Y())&&(t.chat_container=r.first),U(r=Y())&&(t.chat_body=r.first),U(r=Y())&&(t.recorder=r.first)}},hostBindings:function(e,t){e&1&&u("keypress",function(l){return t.handleKeyboardEvent(l)},!1,ge)("beforeunload",function(l){return t.beforeUnloadHandler(l)},!1,ee)},standalone:!0,features:[ie([Qe]),$],decls:39,vars:24,consts:[["chat_body",""],["chat_container",""],["recorder",""],["docModal",""],["linkRef",""],[1,"chat-bot-button"],[1,"btn","btn-primary","toggle-button",3,"click"],[1,"mdi","mdi-robot-happy","mdi-24px"],[1,"d-flex","flex-column","avatar-card-container",3,"ngClass"],[1,"card","col-12",3,"ngClass"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"text-primary","mdi","mdi-robot-happy","mdi-24px"],[1,"btn","btn-outline-primary",3,"click"],[1,"mdi","mdi-arrow-expand-all",3,"ngClass"],[1,"text-center","card-body","overflow-auto"],[1,"fw-bold"],[1,"chat-container"],[3,"class"],[1,"loading-text"],[1,"card-footer"],["id","message-form"],[1,"input-group","position-relative"],[1,"d-flex","input-group-append","position-relative",2,"top","-2px"],[1,"me-2"],[3,"onToggle"],[3,"type"],[3,"onRecordReady","onStopRecording","disabled","isProcessing"],[3,"onClick","active"],["type","text","id","user-message","placeholder","Type your message...",1,"form-control-sm","form-control","rounded-0","rounded-start",3,"formControl"],[1,"input-group-append"],["type","button",1,"rounded-0","rounded-end","btn","btn-sm","btn-primary",3,"click","disabled"],[1,"mdi","mdi-send"],["id","clear-chat","type","button",1,"btn","btn-sm","btn-outline-secondary","ms-2",3,"click"],[1,"message-content",3,"ngClass"],["TextWriterAnimator","",3,"text"],[3,"innerHtml"],["TextWriterAnimator","",3,"animating","text"],[1,"icon-with-title",3,"click"],[1,"mdi",3,"ngClass"],[1,"title"],["hidden",""],["dir","auto"],[1,"d-inline"],[1,"px-1","text-primary"],[1,"mdi","mdi-link-variant"],[1,"d-inline","citation-link",2,"cursor","pointer",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body",2,"overflow-wrap","break-word"],[2,"text-align","justify"],["target","_blank",3,"href"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(e,t){if(e&1){let r=T();c(0,"div",5)(1,"button",6),u("click",function(){return f(r),_(t.toggled=!t.toggled)}),v(2,"i",7),a(),c(3,"div",8)(4,"div",9)(5,"div",10)(6,"span"),v(7,"i",11),h(8," Chat bot "),a(),c(9,"button",12),u("click",function(){return f(r),_(t.fullScreen=!t.fullScreen)}),v(10,"i",13),a()(),c(11,"div",14,0),b(13,Oi,2,0,"small",15),c(14,"div",16,1),L(16,Li,5,8,"div",17,wi),a(),b(18,Vi,2,0,"div",18),a(),c(19,"div",19)(20,"form",20)(21,"div",21)(22,"div",22)(23,"div",23)(24,"ai-avatar-button",24),u("onToggle",function(m){return f(r),_(t.activeAvatar=m)}),a()(),c(25,"div",23),v(26,"ai-avatar-button",25),a(),c(27,"div",23)(28,"audio-recorder",26,2),u("onRecordReady",function(m){return f(r),_(t.handleSpeechToText(m))})("onStopRecording",function(){return f(r),_(t.stopRecording())}),a()()(),c(30,"stop-processing-btn",27),u("onClick",function(){return f(r),_(t.stopAnimation())}),a(),v(31,"input",28),c(32,"div",29)(33,"button",30),u("click",function(){return f(r),_(t.ask$.next())}),v(34,"i",31),a(),c(35,"button",32),u("click",function(){return f(r),_(t.clear())}),h(36," Clear "),a()()()()()()()(),b(37,Ni,16,3,"ng-template",null,3,q)}e&2&&(s(3),d("ngClass",fe(15,Ai,t.activeAvatar,!t.activeAvatar,t.toggled)),s(),te("min-height: 300px; "+(t.fullScreen?"":"height: calc(100vh - 90px - 6rem);")),d("ngClass",Q(19,ki,t.fullScreen)),s(6),d("ngClass",O(21,Pi,!t.fullScreen,t.fullScreen)),s(),te(t.fullScreen?"":"max-height: 100%"),s(2),S(t.service.messageHistory.length?-1:13),s(3),V(t.service.messageHistory),s(2),S(t.service.loading?18:-1),s(8),d("type","outer"),s(2),d("disabled",t.service.loading||t.aiSpeechToTextService.loading)("isProcessing",t.aiSpeechToTextService.loading),s(2),d("active",t.service.loading||t.animating),s(),d("formControl",t.control),s(2),d("disabled",t.service.loading||t.aiSpeechToTextService.loading))},dependencies:[Me,ke,Se,we,Ee,Pe,B,N,Re,Ve,Ht,wt,$t,Oe],styles:['.chat-bot-button[_ngcontent-%COMP%]{width:50px;height:50px;position:fixed;right:20px;bottom:20px}.chat-bot-button[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.chat-bot-button[_ngcontent-%COMP%]   .avatar-card-container[_ngcontent-%COMP%]{position:absolute;right:62px;bottom:0;width:460px;transition:.5s;opacity:0;visibility:hidden}.chat-bot-button[_ngcontent-%COMP%]   .avatar-card-container.toggled[_ngcontent-%COMP%]{opacity:1;visibility:visible}.user-message[_ngcontent-%COMP%], .assistant-message[_ngcontent-%COMP%]{display:flex}.message-content[_ngcontent-%COMP%]{letter-spacing:normal;border-radius:.25rem;margin-bottom:.75rem;padding:.5rem;width:85%;position:relative;word-break:break-word;white-space:pre-wrap}#citation-content[_ngcontent-%COMP%]{text-align:justify}.message-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block}.message-content[_ngcontent-%COMP%]   .icon-with-title[_ngcontent-%COMP%]{margin-top:1rem}.user-message[_ngcontent-%COMP%]{justify-content:end}.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--bs-primary);color:var(--bs-white);border-top-right-radius:0}.user-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-12px;top:0;background:var(--bs-primary);width:12px;height:12px;clip-path:polygon(0 0,100% 0,0 100%)}.assistant-message[_ngcontent-%COMP%]{justify-content:start}.assistant-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{background:var(--bs-gray-300)}.assistant-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-10px;top:0;background:var(--bs-gray-300);width:12px;height:12px;clip-path:polygon(0 0,100% 0,100% 100%)}.error-message[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;background:var(--bs-danger);color:var(--bs-white)}.error-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{direction:ltr}.fullscreen[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%!important;height:100%;z-index:1}']})}return i})();var Kt=(()=>{class i extends xe{tag="website/";http=E(ve);constructor(){super("search")}search(o,e,t,r="date",l=""){return this.startLoading(),this.http.post(this.baseUrl,{query:o,page_size:e,page_number:t,sort:r,facet:l},{headers:new _e({})}).pipe(se(()=>{this.stopLoading()}))}static \u0275fac=function(e){return new(e||i)};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Hi=(i,n)=>({"pull-left":i,"float-left":n}),ji=(i,n)=>({"pull-right":i,"float-right":n}),Ne=(i,n)=>({disabled:i,currentPage:n}),$i=(i,n,o)=>({disabled:i,$implicit:n,currentPage:o});function Wi(i,n){if(i&1){let o=T();c(0,"li",11)(1,"a",12),u("click",function(t){f(o);let r=p();return _(r.selectPage(1,t))}),ce(2,13),a()()}if(i&2){let o=p(),e=I(13);z("disabled",o.noPrevious()||o.disabled),s(2),d("ngTemplateOutlet",o.customFirstTemplate||e)("ngTemplateOutletContext",O(4,Ne,o.noPrevious()||o.disabled,o.page))}}function Ki(i,n){if(i&1){let o=T();c(0,"li",14)(1,"a",12),u("click",function(t){f(o);let r=p();return _(r.selectPage(r.page-1,t))}),ce(2,13),a()()}if(i&2){let o=p(),e=I(11);z("disabled",o.noPrevious()||o.disabled),s(2),d("ngTemplateOutlet",o.customPreviousTemplate||e)("ngTemplateOutletContext",O(4,Ne,o.noPrevious()||o.disabled,o.page))}}function zi(i,n){if(i&1){let o=T();c(0,"li",15)(1,"a",12),u("click",function(t){let r=f(o).$implicit,l=p();return _(l.selectPage(r.number,t))}),ce(2,13),a()()}if(i&2){let o=n.$implicit,e=p(),t=I(7);z("active",o.active)("disabled",e.disabled&&!o.active),s(2),d("ngTemplateOutlet",e.customPageTemplate||t)("ngTemplateOutletContext",fe(6,$i,e.disabled,o,e.page))}}function Gi(i,n){if(i&1){let o=T();c(0,"li",16)(1,"a",12),u("click",function(t){f(o);let r=p();return _(r.selectPage(r.page+1,t))}),ce(2,13),a()()}if(i&2){let o=p(),e=I(9);z("disabled",o.noNext()||o.disabled),s(2),d("ngTemplateOutlet",o.customNextTemplate||e)("ngTemplateOutletContext",O(4,Ne,o.noNext()||o.disabled,o.page))}}function Ui(i,n){if(i&1){let o=T();c(0,"li",17)(1,"a",12),u("click",function(t){f(o);let r=p();return _(r.selectPage(r.totalPages,t))}),ce(2,13),a()()}if(i&2){let o=p(),e=I(15);z("disabled",o.noNext()||o.disabled),s(2),d("ngTemplateOutlet",o.customLastTemplate||e)("ngTemplateOutletContext",O(4,Ne,o.noNext()||o.disabled,o.page))}}function Yi(i,n){if(i&1&&h(0),i&2){let o=n.$implicit;P(o.text)}}function Qi(i,n){if(i&1&&h(0),i&2){let o=p();P(o.getText("next"))}}function qi(i,n){if(i&1&&h(0),i&2){let o=p();P(o.getText("previous"))}}function Xi(i,n){if(i&1&&h(0),i&2){let o=p();P(o.getText("first"))}}function Zi(i,n){if(i&1&&h(0),i&2){let o=p();P(o.getText("last"))}}var zt=(()=>{let n=class n{constructor(){this.main={itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",pageBtnClass:"",rotate:!0},this.pager={itemsPerPage:15,previousText:"\xAB Previous",nextText:"Next \xBB",pageBtnClass:"",align:!0}}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})(),Ji={provide:ze,useExisting:He(()=>en),multi:!0},en=(()=>{let n=class n{constructor(e,t,r){this.elementRef=e,this.changeDetection=r,this.align=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.firstText="First",this.previousText="\xAB Previous",this.nextText="Next \xBB",this.lastText="Last",this.rotate=!0,this.pageBtnClass="",this.disabled=!1,this.numPages=new A,this.pageChanged=new A,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.classMap="",this.inited=!1,this._itemsPerPage=15,this._totalItems=0,this._totalPages=0,this._page=1,this.elementRef=e,this.config||this.configureOptions(Object.assign({},t.main,t.pager))}get itemsPerPage(){return this._itemsPerPage}set itemsPerPage(e){this._itemsPerPage=e,this.totalPages=this.calculateTotalPages()}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this.totalPages=this.calculateTotalPages()}get totalPages(){return this._totalPages}set totalPages(e){this._totalPages=e,this.numPages.emit(e),this.inited&&this.selectPage(this.page)}get page(){return this._page}set page(e){let t=this._page;this._page=e>this.totalPages?this.totalPages:e||1,this.changeDetection.markForCheck(),!(t===this._page||typeof t>"u")&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})}configureOptions(e){this.config=Object.assign({},e)}ngOnInit(){typeof window<"u"&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),typeof this.maxSize>"u"&&(this.maxSize=this.config?.maxSize||0),typeof this.rotate>"u"&&(this.rotate=!!this.config?.rotate),typeof this.boundaryLinks>"u"&&(this.boundaryLinks=!!this.config?.boundaryLinks),typeof this.directionLinks>"u"&&(this.directionLinks=!!this.config?.directionLinks),typeof this.pageBtnClass>"u"&&(this.pageBtnClass=this.config?.pageBtnClass||""),typeof this.itemsPerPage>"u"&&(this.itemsPerPage=this.config?.itemsPerPage||0),this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0}writeValue(e){this.page=e,this.pages=this.getPages(this.page,this.totalPages)}getText(e){return this[`${e}Text`]||this.config[`${e}Text`]}noPrevious(){return this.page===1}noNext(){return this.page===this.totalPages}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}selectPage(e,t){t&&t.preventDefault(),this.disabled||(t&&t.target&&t.target.blur(),this.writeValue(e),this.onChange(this.page))}makePage(e,t,r){return{text:t,number:e,active:r}}getPages(e,t){let r=[],l=1,m=t,D=typeof this.maxSize<"u"&&this.maxSize<t;D&&this.maxSize&&(this.rotate?(l=Math.max(e-Math.floor(this.maxSize/2),1),m=l+this.maxSize-1,m>t&&(m=t,l=m-this.maxSize+1)):(l=(Math.ceil(e/this.maxSize)-1)*this.maxSize+1,m=Math.min(l+this.maxSize-1,t)));for(let g=l;g<=m;g++){let ne=this.makePage(g,g.toString(),g===e);r.push(ne)}if(D&&!this.rotate){if(l>1){let g=this.makePage(l-1,"...",!1);r.unshift(g)}if(m<t){let g=this.makePage(m+1,"...",!1);r.push(g)}}return r}calculateTotalPages(){let e=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(e||0,1)}};n.\u0275fac=function(t){return new(t||n)(y(j),y(zt),y(We))},n.\u0275cmp=x({type:n,selectors:[["pager"]],inputs:{align:"align",maxSize:"maxSize",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",firstText:"firstText",previousText:"previousText",nextText:"nextText",lastText:"lastText",rotate:"rotate",pageBtnClass:"pageBtnClass",disabled:"disabled",itemsPerPage:"itemsPerPage",totalItems:"totalItems"},outputs:{numPages:"numPages",pageChanged:"pageChanged"},features:[ie([Ji])],decls:7,vars:24,consts:[[1,"pager"],[3,"ngClass"],["href","",3,"click"]],template:function(t,r){t&1&&(c(0,"ul",0)(1,"li",1)(2,"a",2),u("click",function(m){return r.selectPage(r.page-1,m)}),h(3),a()(),c(4,"li",1)(5,"a",2),u("click",function(m){return r.selectPage(r.page+1,m)}),h(6),a()()()),t&2&&(s(),k(r.pageBtnClass),z("disabled",r.noPrevious())("previous",r.align),d("ngClass",O(18,Hi,r.align,r.align)),s(2),P(r.getText("previous")),s(),k(r.pageBtnClass),z("disabled",r.noNext())("next",r.align),d("ngClass",O(21,ji,r.align,r.align)),s(2),P(r.getText("next")))},dependencies:[N],encapsulation:2});let i=n;return i})(),tn={provide:ze,useExisting:He(()=>qe),multi:!0},qe=(()=>{let n=class n{constructor(e,t,r){this.elementRef=e,this.changeDetection=r,this.align=!0,this.boundaryLinks=!1,this.directionLinks=!0,this.rotate=!0,this.pageBtnClass="",this.disabled=!1,this.numPages=new A,this.pageChanged=new A,this.onChange=Function.prototype,this.onTouched=Function.prototype,this.classMap="",this.inited=!1,this._itemsPerPage=10,this._totalItems=0,this._totalPages=0,this._page=1,this.elementRef=e,this.config||this.configureOptions(t.main)}get itemsPerPage(){return this._itemsPerPage}set itemsPerPage(e){this._itemsPerPage=e,this.totalPages=this.calculateTotalPages()}get totalItems(){return this._totalItems}set totalItems(e){this._totalItems=e,this.totalPages=this.calculateTotalPages()}get totalPages(){return this._totalPages}set totalPages(e){this._totalPages=e,this.numPages.emit(e),this.inited&&this.selectPage(this.page)}get page(){return this._page}set page(e){let t=this._page;this._page=e>this.totalPages?this.totalPages:e||1,this.changeDetection.markForCheck(),!(t===this._page||typeof t>"u")&&this.pageChanged.emit({page:this._page,itemsPerPage:this.itemsPerPage})}configureOptions(e){this.config=Object.assign({},e)}ngOnInit(){typeof window<"u"&&(this.classMap=this.elementRef.nativeElement.getAttribute("class")||""),typeof this.maxSize>"u"&&(this.maxSize=this.config?.maxSize||0),typeof this.rotate>"u"&&(this.rotate=!!this.config?.rotate),typeof this.boundaryLinks>"u"&&(this.boundaryLinks=!!this.config?.boundaryLinks),typeof this.directionLinks>"u"&&(this.directionLinks=!!this.config?.directionLinks),typeof this.pageBtnClass>"u"&&(this.pageBtnClass=this.config?.pageBtnClass||""),typeof this.itemsPerPage>"u"&&(this.itemsPerPage=this.config?.itemsPerPage||0),this.totalPages=this.calculateTotalPages(),this.pages=this.getPages(this.page,this.totalPages),this.inited=!0}writeValue(e){this.page=e,this.pages=this.getPages(this.page,this.totalPages)}getText(e){return this[`${e}Text`]||this.config[`${e}Text`]}noPrevious(){return this.page===1}noNext(){return this.page===this.totalPages}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}selectPage(e,t){t&&t.preventDefault(),this.disabled||(t&&t.target&&t.target.blur(),this.writeValue(e),this.onChange(this.page))}makePage(e,t,r){return{text:t,number:e,active:r}}getPages(e,t){let r=[],l=1,m=t,D=typeof this.maxSize<"u"&&this.maxSize<t;D&&this.maxSize&&(this.rotate?(l=Math.max(e-Math.floor(this.maxSize/2),1),m=l+this.maxSize-1,m>t&&(m=t,l=m-this.maxSize+1)):(l=(Math.ceil(e/this.maxSize)-1)*this.maxSize+1,m=Math.min(l+this.maxSize-1,t)));for(let g=l;g<=m;g++){let ne=this.makePage(g,g.toString(),g===e);r.push(ne)}if(D&&!this.rotate){if(l>1){let g=this.makePage(l-1,"...",!1);r.unshift(g)}if(m<t){let g=this.makePage(m+1,"...",!1);r.push(g)}}return r}calculateTotalPages(){let e=this.itemsPerPage<1?1:Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(e||0,1)}};n.\u0275fac=function(t){return new(t||n)(y(j),y(zt),y(We))},n.\u0275cmp=x({type:n,selectors:[["pagination"]],inputs:{align:"align",maxSize:"maxSize",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",firstText:"firstText",previousText:"previousText",nextText:"nextText",lastText:"lastText",rotate:"rotate",pageBtnClass:"pageBtnClass",disabled:"disabled",customPageTemplate:"customPageTemplate",customNextTemplate:"customNextTemplate",customPreviousTemplate:"customPreviousTemplate",customFirstTemplate:"customFirstTemplate",customLastTemplate:"customLastTemplate",itemsPerPage:"itemsPerPage",totalItems:"totalItems"},outputs:{numPages:"numPages",pageChanged:"pageChanged"},features:[ie([tn])],decls:16,vars:6,consts:[["defaultPageTemplate",""],["defaultNextTemplate",""],["defaultPreviousTemplate",""],["defaultFirstTemplate",""],["defaultLastTemplate",""],[1,"pagination",3,"ngClass"],["class","pagination-first page-item",3,"disabled",4,"ngIf"],["class","pagination-prev page-item",3,"disabled",4,"ngIf"],["class","pagination-page page-item",3,"active","disabled",4,"ngFor","ngForOf"],["class","pagination-next page-item",3,"disabled",4,"ngIf"],["class","pagination-last page-item",3,"disabled",4,"ngIf"],[1,"pagination-first","page-item"],["href","",1,"page-link",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"pagination-prev","page-item"],[1,"pagination-page","page-item"],[1,"pagination-next","page-item"],[1,"pagination-last","page-item"]],template:function(t,r){t&1&&(c(0,"ul",5),b(1,Wi,3,7,"li",6)(2,Ki,3,7,"li",7)(3,zi,3,10,"li",8)(4,Gi,3,7,"li",9)(5,Ui,3,7,"li",10),a(),b(6,Yi,1,1,"ng-template",null,0,q)(8,Qi,1,1,"ng-template",null,1,q)(10,qi,1,1,"ng-template",null,2,q)(12,Xi,1,1,"ng-template",null,3,q)(14,Zi,1,1,"ng-template",null,4,q)),t&2&&(d("ngClass",r.classMap),s(),d("ngIf",r.boundaryLinks),s(),d("ngIf",r.directionLinks),s(),d("ngForOf",r.pages),s(),d("ngIf",r.directionLinks),s(),d("ngIf",r.boundaryLinks))},dependencies:[N,gt,ft,_t],encapsulation:2});let i=n;return i})(),Gt=(()=>{let n=class n{static forRoot(){return{ngModule:n,providers:[]}}};n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=J({type:n}),n.\u0275inj=Z({imports:[B]});let i=n;return i})();var on=["recorder"],rn=(i,n)=>n.chunk_id,sn=(i,n)=>({rtl:i,ltr:n});function an(i,n){i&1&&(c(0,"div",12),h(1," Processing "),v(2,"app-loading",18),a()),i&2&&(s(2),d("color","white"))}function cn(i,n){if(i&1&&(c(0,"span",19),h(1),a(),c(2,"span",20),h(3),a()),i&2){let o=p();s(),w('Search: "',o.searchKeyWord,'"'),s(2),w("Results: ",o.total_count,"")}}function ln(i,n){if(i&1&&(c(0,"p"),h(1),a()),i&2){let o=n.$implicit;s(),P(o)}}function dn(i,n){if(i&1&&(c(0,"div"),L(1,ln,2,1,"p",null,$e),a()),i&2){let o=p(2).$implicit;s(),V(o["@search.highlights"].merged_content)}}function hn(i,n){if(i&1&&(c(0,"p"),h(1),a()),i&2){let o=n.$implicit;s(),w("Image caption: ",o,"")}}function pn(i,n){if(i&1&&(c(0,"div"),L(1,hn,2,1,"p",null,$e),a()),i&2){let o=p(2).$implicit;s(),V(o["@search.highlights"].imageCaption)}}function mn(i,n){if(i&1&&b(0,dn,3,0,"div")(1,pn,3,0,"div"),i&2){let o=p().$implicit;S(o["@search.highlights"].merged_content.length>0?0:-1),s(),S(o["@search.highlights"].imageCaption.length>0?1:-1)}}function un(i,n){i&1&&h(0),i&2&&w(" ","..."," ")}function gn(i,n){if(i&1&&h(0),i&2){let o=p(2).$implicit,e=p();w(" ",e.isRTL(o.chunk)?"\u0639\u0631\u0636 \u0627\u0644\u0645\u0632\u064A\u062F":"Show more"," ")}}function fn(i,n){if(i&1&&h(0),i&2){let o=p(2).$implicit,e=p();w(" ",e.isRTL(o.chunk)?"\u0639\u0631\u0636 \u0627\u0642\u0644":"Show less"," ")}}function _n(i,n){if(i&1){let o=T();c(0,"button",25),u("click",function(){f(o),p();let t=I(8);return _(t.hidden=!t.hidden)}),b(1,gn,1,1)(2,fn,1,1),a()}if(i&2){p();let o=I(8);s(),S(o.hidden?1:2)}}function vn(i,n){if(i&1&&(c(0,"div")(1,"span",26)(2,"strong"),h(3,"Score: "),a(),h(4),a(),c(5,"span",27)(6,"strong"),h(7,"Reranker Score: "),a(),h(8),a()()),i&2){let o=p().$implicit;s(4),w(" ",o["@search.score"],""),s(4),w(" ",o["@search.reranker_score"],"")}}function bn(i,n){if(i&1&&(c(0,"li",16)(1,"a",21),h(2),a(),b(3,mn,2,2),c(4,"div",22),h(5),b(6,un,1,1),c(7,"span",23,1),h(9),a(),b(10,_n,3,1,"button",24),a(),b(11,vn,9,2,"div"),a()),i&2){let o=n.$implicit,e=I(8),t=p();d("ngClass",O(9,sn,t.isRTL(o.chunk),!t.isRTL(o.chunk))),s(),ht("href",o.ref_url,ae),s(),P(o.title),s(),S(o["@search.highlights"]?3:-1),s(2),w(" ",o.chunk.slice(0,400)," "),s(),S(e.hidden?6:-1),s(3),w(" ",o.chunk.slice(400,o.chunk.length)," "),s(),S(o.chunk.length>400?10:-1),s(),S(t.environment.debugMode?11:-1)}}function Cn(i,n){if(i&1){let o=T();c(0,"pagination",28),ut("ngModelChange",function(t){f(o);let r=p();return mt(r.currentPage,t)||(r.currentPage=t),_(t)}),u("pageChanged",function(t){f(o);let r=p();return _(r.search$.next(t.page))}),a()}if(i&2){let o=p();d("disabled",o.service.loading||o.aiSpeechToTextService.loading)("totalItems",o.total_count),pt("ngModel",o.currentPage),d("maxSize",5)}}var Ut=(()=>{class i{recorder;service=E(Kt);aiSpeechToTextService=E(Ie);search$=new le;control=new Ae("",[Te.required]);results=[];total_count=0;currentPage=1;searchKeyWord="";isRTL=he;handleKeyboardEvent(o){o.key==="Enter"&&(o.preventDefault(),this.search$.next(1))}constructor(){}ngOnInit(){this.listenToSearch()}listenToSearch(){this.search$.pipe(re(()=>!this.service.loading&&(!!this.control.valid||!!this.searchKeyWord))).pipe(ue(()=>{(this.recorder.isProcessing||this.recorder.isRecording)&&this.recorder.canceledRecording()})).pipe(oe(o=>(this.control.value||this.control.setValue(this.searchKeyWord),this.control.value&&this.searchKeyWord!==this.control.value?this.currentPage=1:this.currentPage=o,this.currentPage))).pipe(K(o=>this.service.search(this.control.value,10,o))).subscribe(({rs:o,total_count:e})=>{this.results=o,this.total_count=e,this.searchKeyWord=this.control.value,this.control.reset(),this.control.updateValueAndValidity()})}handleSpeechToText(o){this.control.setValue(o)}stopRecording(){this.search$.next(1)}environment=R;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-ai-search"]],viewQuery:function(e,t){if(e&1&&G(on,5),e&2){let r;U(r=Y())&&(t.recorder=r.first)}},hostBindings:function(e,t){e&1&&u("keypress",function(l){return t.handleKeyboardEvent(l)},!1,ge)},standalone:!0,features:[$],decls:20,vars:9,consts:[["recorder",""],["completion",""],[1,"position-relative","d-flex","flex-column","justify-content-center","align-items-center",2,"z-index","3"],[1,"text-white","mb-4"],[1,"col-12","col-md-6","d-flex","mb-5","position-relative"],[1,"me-2"],[3,"onRecordReady","onStopRecording","disabled","isProcessing"],[1,"input-group",2,"box-shadow","0px 1px 13px #00000080"],["type","text","placeholder","Search...",1,"form-control","rounded-0","rounded-start",3,"formControl"],[1,"input-group-prepend"],["type","button",1,"rounded-0","rounded-end","btn","btn-secondary","text-white",3,"click","disabled"],[1,"mdi","mdi-magnify"],[1,"loading-text","text-white"],[1,"container","py-3"],[1,"pt-3"],[1,"list-group","bg-transparent"],[1,"list-group-item","py-3",3,"ngClass"],[1,"mt-3","justify-content-center",3,"disabled","totalItems","ngModel","maxSize"],[3,"color"],[1,"badge","bg-secondary"],[1,"badge","bg-secondary","ms-2"],["target","_blank",3,"href"],[1,"mt-3","mb-1",2,"text-align","justify","overflow-wrap","break-word"],["hidden",""],[1,"btn","btn-link"],[1,"btn","btn-link",3,"click"],[1,"badge","bg-primary"],[1,"badge","bg-primary","me-2"],[1,"mt-3","justify-content-center",3,"ngModelChange","pageChanged","disabled","totalItems","ngModel","maxSize"]],template:function(e,t){if(e&1){let r=T();c(0,"div",2)(1,"h5",3),h(2," Empowering Insights, Unleashing Intelligence! "),a(),c(3,"form",4)(4,"div",5)(5,"audio-recorder",6,0),u("onRecordReady",function(m){return f(r),_(t.handleSpeechToText(m))})("onStopRecording",function(){return f(r),_(t.stopRecording())}),a()(),c(7,"div",7),v(8,"input",8),c(9,"div",9)(10,"button",10),u("click",function(){return f(r),_(t.search$.next(1))}),v(11,"i",11),a()()()(),b(12,an,3,1,"div",12),a(),c(13,"div",13),b(14,cn,4,2),c(15,"div",14)(16,"ul",15),L(17,bn,12,12,"li",16,rn),a(),b(19,Cn,1,4,"pagination",17),a()()}e&2&&(te(t.results.length?"":"height: calc(100vh - 9rem - 90px)"),s(5),d("disabled",t.service.loading||t.aiSpeechToTextService.loading)("isProcessing",t.aiSpeechToTextService.loading),s(3),d("formControl",t.control),s(2),d("disabled",t.service.loading||t.aiSpeechToTextService.loading),s(2),S(t.service.loading?12:-1),s(2),S(t.results.length?14:-1),s(3),V(t.results),s(2),S(t.total_count?19:-1))},dependencies:[Me,ke,Se,we,Ee,Pe,B,N,Tt,St,xt,Re,Ve,Gt,qe]})}return i})();var yn=(i,n)=>n.id;function xn(i,n){if(i&1&&(c(0,"div",3)(1,"div",4)(2,"div",5)(3,"h5",6),h(4),a(),v(5,"i"),a(),c(6,"div",7)(7,"p",8),h(8),a(),c(9,"button",9),h(10," Try it out "),a()()()()),i&2){let o=n.$implicit;s(4),w(" ",o.title," "),s(),k("text-primary mdi mdi-24px mdi-"+o.icon),s(3),w(" ",o.description," "),s(),d("routerLink",o.route)}}var Xe=(()=>{class i{services=[{id:1,icon:"robot-confused-outline",title:"Chat bot",route:"/ai-service/ai-chat-bot",description:"A bot that provides assistance, answers questions and provides information in an immediate and efficient manner. The intelligent bot relies on natural information technologies to understand and queries users."},{id:2,icon:"magnify",title:"AI Search",route:"/ai-service/ai-search",description:"Smart Search is a cutting-edge technology that uses artificial intelligence to improve the online search experience. Instead of providing a long list of links, this service analyzes the intent and context behind the question to provide the user with accurate and detailed answers."}];ngOnInit(){}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=x({type:i,selectors:[["app-ai-service-home"]],standalone:!0,features:[$],decls:6,vars:0,consts:[[1,"container","py-5"],[1,"row"],[1,"text-center","mx-auto","col-12","text-white","mb-5"],[1,"mx-auto","col-12","col-sm-6"],[1,"card","h-100"],[1,"card-header","d-flex","align-items-center"],[1,"m-0","me-auto"],[1,"card-body","h-100","d-flex","flex-column"],[2,"font-size","14px","min-height","100px","text-align","justify"],[1,"d-block","w-100","btn","btn-outline-primary","mt-auto","btn-sm","px-4",3,"routerLink"]],template:function(e,t){e&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),h(3," Welcome to AI Solutions "),a(),L(4,xn,11,5,"div",3,yn),a()()),e&2&&(s(4),V(t.services))},dependencies:[ye,Ce]})}return i})();var Vr=(()=>{class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=J({type:i});static \u0275inj=Z({imports:[B,ye.forChild([{path:"",component:Pt,children:[{path:"",pathMatch:"full",redirectTo:"/ai-service/ai-service-home"},{path:"ai-service-home",component:Xe},{path:"ai-chat-bot",component:Wt},{path:"ai-search",component:Ut},{path:"ai-service-home",component:Xe}]}])]})}return i})();export{Vr as AiServicesModule};
